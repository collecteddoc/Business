<script>
    $(document).ready(function() {
        $("#dtpFromDate").datepicker();
        $("#dtpFromDate").datepicker("setDate", new Date((new Date().getFullYear()), (new Date().getMonth() - 1), 25));
        $("#dtpToDate").datepicker();
        $("#dtpToDate").datepicker("setDate", new Date());
        $("#ddlEvent").select2({
            matcher: utility.matchCustom,
        });
        $("#ddlBranchSearch").select2({
            matcher: utility.matchCustom,
        });
        $("#ddlAccountType").select2({
            matcher: utility.matchCustom,
        });
        $("#ddlAccountSearch").select2({
            matcher: utility.matchCustom,
        });
        $("#ddlEvent").change(function() {
            transaction.LoadddlAccountType($('#ddlEvent option:selected').val(), $('#ddlBranchSearch option:selected').val());
        });
        $("#ddlBranchSearch").change(function() {
            transaction.LoadddlAccountType($('#ddlEvent option:selected').val(), $('#ddlBranchSearch option:selected').val());
        });
        $("#ddlAccountType").change(function() {
            transaction.LoadddlAccountSearch($('#ddlEvent option:selected').val(), $('#ddlBranchSearch option:selected').val(), $('#ddlAccountType option:selected').val());
        });
        $("#ddlRowsPerPage").change(function() {
            transaction.Search($('#dtpFromDate').val(), $('#dtpToDate').val(), $('#ddlEvent option:selected').val(), $('#ddlBranchSearch option:selected').val(), $('#ddlAccountType option:selected').val(), $('#ddlAccountSearch option:selected').val(), 1, $('#ddlRowsPerPage option:selected').val());
        });
        transaction.LoadddlRowsPerPage();
        transaction.LoadddlEvent();
        transaction.LoadddlAllBranch();
        $('#ddlEvent').val(0).trigger('change.select2');
        $('#ddlAccountType').val(0).trigger('change.select2');
        $('#ddlAccountSearch').val(0).trigger('change.select2');

        transaction.Search($('#dtpFromDate').val(), $('#dtpToDate').val(), $('#ddlEvent option:selected').val(), $('#ddlBranchSearch option:selected').val(), $('#ddlAccountType option:selected').val(), $('#ddlAccountSearch option:selected').val(), 1, $('#ddlRowsPerPage option:selected').val());
    });
</script>

<div class="row">
    <div class="col-md-12">
        <fieldset class="border p-2">
            <legend class="w-auto">Transaction List</legend>
            <div class="row">
                <label style="width:15%">From Date:</label>
                <input type="text" id="dtpFromDate" style="width:30%">
                <div style="width:10%"></div>
                <label style="width:15%">To Date:</label>
                <input type="text" id="dtpToDate" style="width:30%">
            </div>
            <div class="row">
                <label style="width:15%">Event:</label>
                <select id="ddlEvent" style="width:30%"></select>
                <div style="width:10%"></div>
                <label style="width:15%">Branch:</label>
                <select id="ddlBranchSearch" style="width:30%"></select>
            </div>
            <div class="row">
                <label style="width:15%">Account Type:</label>
                <select id="ddlAccountType" style="width:30%"></select>
                <div style="width:10%"></div>
                <label style="width:15%">Account:</label>
                <select id="ddlAccountSearch" style="width:30%"></select>
            </div>
            <div class="row">
                <div style="width:92%"></div>
                <button id="btnSearch" class="btn btn-success" style="width:8%" onclick="transaction.Search($('#dtpFromDate').val(), $('#dtpToDate').val(), $('#ddlEvent option:selected').val(), $('#ddlBranchSearch option:selected').val(), $('#ddlAccountType option:selected').val(), $('#ddlAccountSearch option:selected').val(), 1, $('#ddlRowsPerPage option:selected').val())">Search</button>
            </div>
        </fieldset>
        <div class="row">
            <label style="width:15%">Rows Per Page:</label>
            <select id="ddlRowsPerPage" style="width:10%"></select>
            <div style="width:67%"></div>
            <button id="btnExport" class="btn btn-info" style="width:8%" onclick="utility.exportTableToExcel('tbl_list', 'Transaction List')">Export</button>
        </div>
        <div class="row">
            <div id="div_list" style="width:100%"></div>
        </div>
    </div>
</div>